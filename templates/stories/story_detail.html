{% extends "base.html" %}
{% load static %}

{% block content %}

<style>
  .story-detail-wrapper {
    max-width: 1000px;
    margin: 40px auto;
    padding: 0 20px;
  }

  .back-btn {
    display: inline-block;
    margin-bottom: 20px;
    text-decoration: none;
    color: #1f1f1f;
    font-weight: 600;
  }

  .story-detail-card {
    display: flex;
    gap: 30px;
    align-items: flex-start;
    justify-content: center;
  }

  .story-cover img {
    width: 260px;
    height: 400px;
    object-fit: cover;
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  }

  .story-info {
    max-width: 560px;
  }

  .story-info h1 {
    margin: 0 0 15px;
    font-size: 28px;
    color: #1f1f1f;
  }

  .story-info p {
    font-size: 15px;
    line-height: 1.6;
    color: #444;
    margin-bottom: 25px;
  }

  .chapter-list {
    margin-top: 20px;
  }

  .chapter-list h3 {
    margin-bottom: 12px;
    color: #1f1f1f;
  }

  .chapter-list ul {
    list-style: none;
    padding: 0;
  }

  .chapter-list li {
    margin-bottom: 8px;
  }

  .chapter-list a {
    text-decoration: none;
    color: #1f1f1f;
    font-weight: 600;
    padding: 8px 10px;
    border-radius: 8px;
    background: #f1f3f6;
  }

  .chapter-list a:hover {
    background: rgba(246, 160, 26, 0.15);
  }

  @media (max-width: 768px) {
    .story-detail-card {
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .story-info {
      max-width: 100%;
    }
  }
</style>

<div class="story-detail-wrapper">

  <a href="{% url 'home' %}" class="back-btn">← Back to Home</a>

  <div class="story-detail-card">

    <div class="story-cover">
      {% if story.cover %}
        <img src="{{ story.cover.url }}" alt="{{ story.title }}">
      {% else %}
        <img src="{% static 'images/placeholder.png' %}" alt="No cover">
      {% endif %}
    </div>

    <div class="story-info">
      <h1>{{ story.title }}</h1>
      <p>{{ story.description }}</p>

      <div class="chapter-list">
        <h3>Chapters</h3>
        <ul>
          {% for chapter in story.chapters.all %}
            <li>
              <a href="{% url 'chapter_reader' chapter.id %}">
                Chapter {{ chapter.order }} — {{ chapter.title }}
              </a>
            </li>
          {% empty %}
            <li>No chapters yet.</li>
          {% endfor %}
        </ul>
      </div>
    </div>

  </div>

</div>

{% endblock %}
